var helper = {};

/**
 * Creates a message string from the action string and the optional parameters.
 * Parameters will be joined with a semicolon in between.
 * WARNING: if a parameter contains a semicolon, this message will be corrupt.
 * TODO: prevent message corruption ;)
 */
helper.createMessage = function (action) {
	var args = Array.prototype.slice.call(arguments, 1);
	var param = args.join(";");
	return JSON.stringify({ action: action, param: param});
}

/**
 * Parses a message created by #createMessage
 */
helper.parseMessage = function (message) {
	return JSON.parse(message);
}

module.exports = helper;